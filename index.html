<!-- RECO7609 Story Writer Webapp python backend server-->
<!--
Prompt:

Now I would like to implement a next word prediction functionality. Using a python written bigram model as the next word prediction model with provided story as the sample data, the webapp should be able to predict the next word that the user is going to write and display it in the "next word" box. If the user presses the "write" button without inputting any word in the input box, the predicted next word should be used as the input word. If the user did input a word in the input box, the user inputted word should be used as the input word. Please implement this without the use of any external library.

-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Writer</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #story-box, #next-word-box, #auto-complete-box { border: 1px solid #000; padding: 10px; margin-bottom: 10px; }
        #next-word-box { height: 20px; }
        #auto-complete-box { height: 20px; }
    </style>
</head>
<body>
    <h1>Story Writer</h1>
    <div id="story-box">Your story will appear here...</div>
    <div id="next-word-box">Next Word</div>
    <input type="text" id="word-input" placeholder="Enter a word">
    <button onclick="writeWord()">Write</button>
    <div id="auto-complete-box">Auto Complete</div>

    <script>
        function writeWord() {
            let word = document.getElementById('word-input').value.trim();
            fetch('http://localhost:8080/write', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ word: word })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('story-box').innerText = data.story;
                document.getElementById('next-word-box').innerText = data.next_word;
                document.getElementById('word-input').value = '';
            })
            .catch(error => console.error('Error:', error));
        }

        // Fetch the initial next word prediction
        fetch('http://localhost:8080')
            .then(response => response.json())
            .then(data => {
                document.getElementById('next-word-box').innerText = data.next_word;
            });
    </script>
</body>
</html>
